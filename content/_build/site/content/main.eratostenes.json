{"version":2,"kind":"Notebook","sha256":"0bd1c36c9a05448314ccddf1b35318a05700549673d38e856eef09d2c5def6b0","slug":"main.eratostenes","location":"/main/002_01_eratostenes.ipynb","dependencies":[],"frontmatter":{"title":"Aprendendo sobre a dimensão das coisas","content_includes_title":false,"kernelspec":{"name":"python3","display_name":".venv","language":"python"},"authors":[{"nameParsed":{"literal":"Luciano Barosi","given":"Luciano","family":"Barosi"},"name":"Luciano Barosi","email":"lbarosi@df.ufcg.edu.br","affiliations":["affiliations-myst-generated-uid-0"],"id":"contributors-myst-generated-uid-0","corresponding":true}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/barosil/astroUFCG","numbering":{"title":{"enabled":true},"section":{"enabled":true},"subsection":{"enabled":true},"code":{"enabled":true},"math":{"enabled":true},"biografia":{"enabled":true},"contexto":{"enabled":true},"timeline":{"enabled":true},"definition":{"enabled":true},"theorem":{"enabled":true},"example":{"enabled":true}},"keywords":["física","astrofísica","cosmologia","astronomia","data science","ciência de dados","machine learning","deep learning","python","astrofísica computacional"],"affiliations":[{"name":"Universidade Federal de Campina Grande (UFCG)","id":"affiliations-myst-generated-uid-0"}],"edit_url":"https://github.com/barosil/astroUFCG/blob/main/content/main/002_01_eratostenes.ipynb","enumerator":"5","thumbnail":"/Aristarchus-51918d30b25578378e0c58e86dc5e38f.jpg","thumbnailOptimized":"/Aristarchus-51918d30b25578378e0c58e86dc5e38f.webp","exports":[{"format":"ipynb","filename":"002_01_eratostenes.ipynb","url":"/002_01_eratostenes-d69341452f95774d90cd94804150d4f2.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"O experimento de Eratóstenes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lxZtXfUwEH"}],"identifier":"o-experimento-de-erat-stenes","label":"O experimento de Eratóstenes","html_id":"o-experimento-de-erat-stenes","implicit":true,"key":"VGPRJ74Hbe"}],"key":"KTpBhcvhBA"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Eratóstenes de Sirene","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PeKr8sPO6U"}],"key":"SJrbzCePbb"},{"type":"table","children":[{"type":"tableRow","children":[{"type":"tableCell","style":{"width":"160px"},"children":[{"type":"image","url":"/Aristarchus-51918d30b25578378e0c58e86dc5e38f.jpg","width":150,"key":"huaTBYVwzr","urlSource":"../images/people/Aristarchus.jpg","urlOptimized":"/Aristarchus-51918d30b25578378e0c58e86dc5e38f.webp"}],"key":"VEK1BbjGcK"},{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"Eratóstenes de Cirene (Cirene, 276 a.C. — Alexandria, 194 a.C.)","key":"AkbPOT41xJ"}],"key":"Z1Q3zbwfVt"},{"type":"break","key":"zB78ndZKRL"},{"type":"text","value":" Eratóstenes foi um polímata grego que, embora mais conhecido por medir com notável precisão o raio da Terra, também fez importantes contribuições à astronomia. Dirigiu a Biblioteca de Alexandria e compilou um catálogo de estrelas e constelações. Sua medição do tamanho da Terra, feita com base na sombra de obeliscos em duas cidades diferentes no solstício, foi fundamental para a compreensão da escala do mundo.","key":"jXBllUloqh"}],"key":"j4xuuL0qCC"}],"key":"GSk1jGvDKp"}],"key":"N33Vji6p8X"}],"class":"bio","key":"ZWpSUYGVK9"}],"key":"UtnfGrDHrr"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Nosso objetivo","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D73RrN7UPY"}],"identifier":"nosso-objetivo","label":"Nosso objetivo","html_id":"nosso-objetivo","implicit":true,"key":"tsBIMUrPOZ"}],"key":"fdS6liJZ6i"},{"type":"block","kind":"notebook-content","children":[{"type":"container","kind":"figure","children":[{"type":"image","url":"/eratosthenes-fc87f854120829457edaf312d63372b0.jpg","alt":"map to buried treasure","width":"70 %","key":"RFNxEbV0Hz","urlSource":"../images/cap_01/eratosthenes.jpg","urlOptimized":"/eratosthenes-fc87f854120829457edaf312d63372b0.webp"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Uma ideia sensacional. Créditos da figura ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"LKXFGS37rz"},{"type":"footnoteReference","identifier":"1","label":"1","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"enumerator":"1","key":"NPcD9mVQFO"}],"key":"PiJ5Lmodze"}],"key":"xemPLmXpLm"}],"enumerator":"1","key":"sdRxiqdOjV"},{"type":"footnoteDefinition","identifier":"1","label":"1","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://images.fineartamerica.com/images-medium-large-5/eratosthenes-experiment-science-photo-library.jpg","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"https://​images​.fineartamerica​.com​/images​-medium​-large​-5​/eratosthenes​-experiment​-science​-photo​-library​.jpg","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"HoTsXKrlxm"}],"urlSource":"https://images.fineartamerica.com/images-medium-large-5/eratosthenes-experiment-science-photo-library.jpg","key":"FtslqgZ9wR"}],"key":"VNl9jXlzjD"}],"enumerator":"1","key":"WgQgaSwZ3v"}],"key":"MxBa0be7xo"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Vamos reproduzir a experiência de Eratóstenes com a ajuda do computador, assim não vamos precisar contar os nossos passos em uma viagem de mais de 800 km. Embora a experiência pareça bem simples, existe uma riqueza de sutilezas que devem ser consideradas, e muito o que aprender.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xFPilnWq4l"}],"key":"hw4NJnzFaB"}],"key":"xn0tK59kC4"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"BRermZzUND"}],"key":"VqB2reVClI"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Vamos obter as coordenadas geográficas das cidades de Alexandria e Aswan.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"t7q29Lb099"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Vamos usar a biblioteca ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"P3YCKuR2Zi"},{"type":"inlineCode","value":"osmnx","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"S2k0f2qNVG"},{"type":"text","value":" para obter os objetos ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BpQD0eHsNU"},{"type":"inlineCode","value":"geocode","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"uQudDbM3UZ"},{"type":"text","value":" como coordenadas ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"uwJH6QgikL"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Lat","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Gazq1zNMk0"}],"key":"j0jC1jFDgQ"},{"type":"text","value":" e ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"nUghecaYAo"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Lon","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"LF2MbQO77b"}],"key":"QAV3zfu2B6"},{"type":"text","value":".","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"li5O08ocMC"}],"key":"vMWSjRrsP4"}],"key":"CtXKFMJxzu"}],"key":"FdgLtyjodU"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Utilizando ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"sNaCayC4Qs"},{"type":"inlineCode","value":"geopy","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RLWRYSuw8A"},{"type":"text","value":" podemos obter a distância geodésica entre as duas cidades de maneira bastante direta.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rNVks6amJF"}],"key":"Qqo1M0gJy5"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Vamos escolher o ano ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"YIcL5PeIhn"},{"type":"inlineMath","value":"200 ac","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>200</mn><mi>a</mi><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">200 ac</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">200</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">c</span></span></span></span>","key":"qiw484KDba"},{"type":"text","value":" para nosso experimento, uma época em que o idealizador estava vivo.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"a6b8bCWv99"}],"key":"KZsIQsZEAX"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Precisamos determinar o dia do solstício de verão.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"BsjYICYasP"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Vamos utilizar a biblioteca ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"OH7rJaZeNo"},{"type":"inlineCode","value":"skyfield","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"LM1B4pcN33"},{"type":"text","value":" para realizar os cálculos astronômicos.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"VVZ3hQsom2"}],"key":"s2SpfG6Okq"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Precisamos de informações sobre as posições do Sol e da Terra neste ano.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"UdezDCuLmR"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"O serviço de efemérides ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"LuXdnlNpxL"},{"type":"link","url":"https://naif.jpl.nasa.gov/naif/","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"JPL/NASA","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"iZ2nWOA9F8"}],"urlSource":"https://naif.jpl.nasa.gov/naif/","key":"c0eGa2XuAL"},{"type":"text","value":"  pode fornecer os dados que queremos.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"k1ugRjOBG4"}],"key":"bYuJzpRgQe"}],"key":"lSy1G3Lua4"}],"key":"QkNJoKLGrJ"}],"key":"Ek2CpQIAzs"}],"key":"IynZcqSFqJ"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Precisamos determinar o meio-dia local nas duas cidades.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"QStJWRLSE9"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Já temos como calcular a posição do Sol, vamos determinar as passagens do Sol pelo meridiano local.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"OLPpAzhVlG"}],"key":"cVIxVy7BDe"}],"key":"ARxjs70X8i"}],"key":"JvWD6zA2Jp"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"A partir do meio-dia em Aswan, vamos contruir um vetor de tempos com duração de duas horas e examinar o tamanho da sombra projetada pelo Sol nas duas cidades.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"p5yQaw98ca"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"math","value":"\\mathcal{L} = \\frac{h}{\\mathrm{Alt_\\odot}}","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi mathvariant=\"script\">L</mi><mo>=</mo><mfrac><mi>h</mi><mrow><mi mathvariant=\"normal\">A</mi><mi mathvariant=\"normal\">l</mi><msub><mi mathvariant=\"normal\">t</mi><mo>⊙</mo></msub></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\mathcal{L} = \\frac{h}{\\mathrm{Alt_\\odot}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathcal\">L</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.2658em;vertical-align:-0.8943em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">Al</span><span class=\"mord\"><span class=\"mord mathrm\">t</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2583em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">⊙</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2083em;\"><span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">h</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8943em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>","enumerator":"1","key":"rb6NdHWJAP"}],"key":"RwOUCE5YYm"}],"key":"UKCbxCzqTg"}],"key":"J1TOVFAdYQ"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Vamos fazer uma visualização em 3D para ver como seria a sombra no chão.","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"sbdhHB57BE"}],"key":"wscQxlLG9h"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Vamos fazer um gráfico com o tamanho das sombras.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"WMbd2atpEP"}],"key":"xOOSym70Iu"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Vamos obter uma estimativa do radio da Terra fazendo a mesma suposição de eratóstenes.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"P0qVzoCuPY"}],"key":"rBlvct9J9z"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"Vamos agora fazer um raciocínio inverso e usar nossos dados para obter a latitude e longitude e a partir destas informações calcular o Raio da Terra levando em conta as posições reais das cidades, que poderiam ser medidas na época antiga se houvessem relógios confiáveis.","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"rz5HrgKKhF"}],"key":"GtvvMLPa9h"}],"key":"WUxqSUHIGM"}],"class":"","label":"roteiro-eratostenes","identifier":"roteiro-eratostenes","html_id":"roteiro-eratostenes","key":"wzxoRoNoqV"}],"key":"XHbRe8HREd"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import pyvista as pv\nfrom astroufcg.medidas_historicas.eratostenes import set_experiment, view_shadow_length, view_shadow_3D\nimport pyvista as pv\npv.set_jupyter_backend('trame')","key":"jSsHLLKOR1"},{"type":"output","id":"akd4PBpOImVakmWj6W7xv","data":[],"key":"QTFpK2tM8J"}],"key":"rMMjTqRku5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"alexandria = \"alexandria, egypt\"\naswan = \"aswan, egypt\"\ndf = set_experiment(alexandria, aswan, year=-200, object_height=10)","key":"OU4iIjw55C"},{"type":"output","id":"DSq6T8in_dQIYvttdV57r","data":[],"key":"gnF4fwxylF"}],"key":"MMCVlJ60S9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualização da Sombra em 3D","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GGy0ZEoPTz"}],"identifier":"visualiza-o-da-sombra-em-3d","label":"Visualização da Sombra em 3D","html_id":"visualiza-o-da-sombra-em-3d","implicit":true,"key":"DrIHvjdRJ7"}],"key":"HmnxCHiiZ6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"p = pv.Plotter(notebook=True, lighting=None)\np.renderer.shadow_map_resolution = 2048  #\np = view_shadow_3D(\"alexandria\", df, prefix=\"01\", p=p)\np.show()","key":"Rnic3onPoy"},{"type":"output","id":"pYg_3f4saT3Oy8jJhfx3Q","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"dd7d19e798204659af265a9fab46b598\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"Widget(value='<iframe src=\"http://localhost:36185/index.html?ui=P_0x707a0a400bf0_0&reconnect=auto\" class=\"pyvi…","content_type":"text/plain"}}}],"key":"LTPYwKb26s"}],"key":"KTT07MAuAk"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"O comprimento da sombra como função do tempo","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zoc929vhFT"}],"identifier":"o-comprimento-da-sombra-como-fun-o-do-tempo","label":"O comprimento da sombra como função do tempo","html_id":"o-comprimento-da-sombra-como-fun-o-do-tempo","implicit":true,"key":"SzmeXJkFpk"}],"key":"cB4ksz1vJ4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"view_shadow_length(df)","key":"NbEpwF2v83"},{"type":"output","id":"YYQjDRovpo6G7zsVr-L54","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1cc94987c2d4b98f0c0f54dc96d729b2","path":"/1cc94987c2d4b98f0c0f54dc96d729b2.png"},"text/plain":{"content":"<Figure size 1000x600 with 1 Axes>","content_type":"text/plain"}}}],"key":"MbxfFWajcB"}],"key":"BesEI5NPSi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from geopy.distance import geodesic, great_circle\nimport osmnx as ox\nimport numpy as np\nfrom rich.console import Console\nfrom rich.table import Table\nh = 10\nalexandria_coords = ox.geocode(alexandria)\naswan_coords = ox.geocode(aswan)\ndistance = geodesic(alexandria_coords, aswan_coords).km\ngreat_circle_distance = great_circle(alexandria_coords, aswan_coords).km\n\nnoon_aswan = df[\"time_02\"].iloc[df.reset_index()[\"shadow_length_02\"].idxmin()]\nnoon_alexandria = df[\"time_02\"].iloc[df.reset_index()[\"shadow_length_01\"].idxmin()]\n\nshadow_length_01 = df[df.time_02==noon_aswan][\"shadow_length_01\"].values[0]\nshadow_length_02 = df[df.time_02==noon_aswan][\"shadow_length_02\"].values[0]\nmin_shadow_01 = df[df.time_02==noon_alexandria][\"shadow_length_01\"].values[0]\n\nsol_coords_01 = df[df.time_02==noon_aswan][[\"alt_01\", \"az_01\"]].values[0]\nsol_coords_02 = df[df.time_02==noon_aswan][[\"alt_02\", \"az_02\"]].values[0]\nsol_coords_a = df[df.time_02==noon_alexandria][[\"alt_01\", \"az_01\"]].values[0]\n\ntheta_alexandria = np.arctan(shadow_length_01 / h)  # Assuming object height is 10\ntheta_aswan = np.arctan(shadow_length_02 / h)  # Assuming object height is 10\n\nR_terra = distance / theta_alexandria\n","key":"dK9zZby0SM"},{"type":"output","id":"frn5ceTlVhbpyvfOLNUwg","data":[],"key":"lIsxJaaW15"}],"key":"w6wSJmfWsj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Reproduzindo o Experimento de Eratosthenes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SadSJe0KAy"}],"identifier":"reproduzindo-o-experimento-de-eratosthenes","label":"Reproduzindo o Experimento de Eratosthenes","html_id":"reproduzindo-o-experimento-de-eratosthenes","implicit":true,"key":"kkOEoecIJB"}],"key":"vQeNgEkd2P"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"table = Table(title=\"Experimento de Erathostenes\")\n\ntable.add_column(\"Grandezas\", justify=\"right\", style=\"cyan\", no_wrap=True)\ntable.add_column(\"Alexandria\", style=\"yellow\")\ntable.add_column(\"Aswann\", justify=\"right\", style=\"green\")\n\ntable.add_row(\"meio-dia\", noon_alexandria.strftime(\"%H:%M\"), noon_aswan.strftime(\"%H:%M\"))\ntable.add_row(\"coordenadas\", str(alexandria_coords), str(aswan_coords))\ntable.add_row(\"sombra\", f\"{shadow_length_01:.2f} m\", f\"{shadow_length_02:.2f} m\")\ntable.add_row(\"ângulo\", f\"{np.degrees(theta_alexandria):.2f}°\", f\"{np.degrees(theta_aswan):.2f}°\")\ntable.add_row(\"Sol meio-dia\", f\"alt: {sol_coords_a[0]:.2f}°, az: {sol_coords_a[1]:.2f}°\", f\"alt: {sol_coords_02[0]:.2f}°, az: {sol_coords_02[1]:.2f}°\")\ntable.add_row(\"Sol meio-dia aswan\", f\"alt: {sol_coords_01[0]:.2f}°, az: {sol_coords_01[1]:.2f}°\", f\"alt: {sol_coords_02[0]:.2f}°, az: {sol_coords_02[1]:.2f}°\")\nd_theta = np.degrees(theta_aswan - theta_alexandria)\nd_phi = np.abs((noon_alexandria - noon_aswan).total_seconds()) * 24 / 3600  # Convertendo de segundos para horas\nconsole = Console()\nconsole.print(table)\n","key":"gRaH5XItzB"},{"type":"output","id":"LNCFSia5y39xhS_2rP8W5","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"font-style: italic\">                        Experimento de Erathostenes                         </span>\n┏━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━┓\n┃<span style=\"font-weight: bold\">          Grandezas </span>┃<span style=\"font-weight: bold\"> Alexandria               </span>┃<span style=\"font-weight: bold\">                   Aswann </span>┃\n┡━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━┩\n│<span style=\"color: #008080; text-decoration-color: #008080\">           meio-dia </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> 09:57                    </span>│<span style=\"color: #008000; text-decoration-color: #008000\">                    09:45 </span>│\n│<span style=\"color: #008080; text-decoration-color: #008080\">        coordenadas </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> (31.1991806, 29.8951716) </span>│<span style=\"color: #008000; text-decoration-color: #008000\">   (24.091071, 32.897306) </span>│\n│<span style=\"color: #008080; text-decoration-color: #008080\">             sombra </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> 1.40 m                   </span>│<span style=\"color: #008000; text-decoration-color: #008000\">                   0.07 m </span>│\n│<span style=\"color: #008080; text-decoration-color: #008080\">             ângulo </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> 7.98°                    </span>│<span style=\"color: #008000; text-decoration-color: #008000\">                    0.39° </span>│\n│<span style=\"color: #008080; text-decoration-color: #008080\">       Sol meio-dia </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> alt: 82.52°, az: 179.12° </span>│<span style=\"color: #008000; text-decoration-color: #008000\"> alt: 89.61°, az: 163.38° </span>│\n│<span style=\"color: #008080; text-decoration-color: #008080\"> Sol meio-dia aswan </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> alt: 82.02°, az: 158.93° </span>│<span style=\"color: #008000; text-decoration-color: #008000\"> alt: 89.61°, az: 163.38° </span>│\n└────────────────────┴──────────────────────────┴──────────────────────────┘\n</pre>\n","content_type":"text/html"},"text/plain":{"content":"\u001b[3m                        Experimento de Erathostenes                         \u001b[0m\n┏━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━┓\n┃\u001b[1m \u001b[0m\u001b[1m         Grandezas\u001b[0m\u001b[1m \u001b[0m┃\u001b[1m \u001b[0m\u001b[1mAlexandria              \u001b[0m\u001b[1m \u001b[0m┃\u001b[1m \u001b[0m\u001b[1m                  Aswann\u001b[0m\u001b[1m \u001b[0m┃\n┡━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━┩\n│\u001b[36m \u001b[0m\u001b[36m          meio-dia\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33m09:57                   \u001b[0m\u001b[33m \u001b[0m│\u001b[32m \u001b[0m\u001b[32m                   09:45\u001b[0m\u001b[32m \u001b[0m│\n│\u001b[36m \u001b[0m\u001b[36m       coordenadas\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33m(31.1991806, 29.8951716)\u001b[0m\u001b[33m \u001b[0m│\u001b[32m \u001b[0m\u001b[32m  (24.091071, 32.897306)\u001b[0m\u001b[32m \u001b[0m│\n│\u001b[36m \u001b[0m\u001b[36m            sombra\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33m1.40 m                  \u001b[0m\u001b[33m \u001b[0m│\u001b[32m \u001b[0m\u001b[32m                  0.07 m\u001b[0m\u001b[32m \u001b[0m│\n│\u001b[36m \u001b[0m\u001b[36m            ângulo\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33m7.98°                   \u001b[0m\u001b[33m \u001b[0m│\u001b[32m \u001b[0m\u001b[32m                   0.39°\u001b[0m\u001b[32m \u001b[0m│\n│\u001b[36m \u001b[0m\u001b[36m      Sol meio-dia\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33malt: 82.52°, az: 179.12°\u001b[0m\u001b[33m \u001b[0m│\u001b[32m \u001b[0m\u001b[32malt: 89.61°, az: 163.38°\u001b[0m\u001b[32m \u001b[0m│\n│\u001b[36m \u001b[0m\u001b[36mSol meio-dia aswan\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33malt: 82.02°, az: 158.93°\u001b[0m\u001b[33m \u001b[0m│\u001b[32m \u001b[0m\u001b[32malt: 89.61°, az: 163.38°\u001b[0m\u001b[32m \u001b[0m│\n└────────────────────┴──────────────────────────┴──────────────────────────┘\n","content_type":"text/plain"}}}],"key":"FZFRXtesWJ"}],"key":"S270MajynS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Aprendendo sobre Latitudes e Longitudes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"v3fIxFpUon"}],"identifier":"aprendendo-sobre-latitudes-e-longitudes","label":"Aprendendo sobre Latitudes e Longitudes","html_id":"aprendendo-sobre-latitudes-e-longitudes","implicit":true,"key":"aNtHAs4e74"}],"key":"j9DtA2hfDX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A diferença de Latitude é a diferença de altura do Sol nos dois locais, medidos na mesma hora.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JltKl4SQ5s"}],"key":"qlFij37Xm0"}],"key":"Nda3ZRmruV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# O sinal é porque a altitude do sol é 90 menos o angulo da sombra\ndelta_lat = float(-(sol_coords_a - sol_coords_02)[0])\nconsole.print(f\"Delta latitude: {delta_lat:.2f}°\")","key":"NUjb3vbhRo"},{"type":"output","id":"G4SLUeiusux25etea-OdA","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">Delta latitude: <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">7.09</span>°\n</pre>\n","content_type":"text/html"},"text/plain":{"content":"Delta latitude: \u001b[1;36m7.09\u001b[0m°\n","content_type":"text/plain"}}}],"key":"FoR89ADv9a"}],"key":"Ih8HbObR1H"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"A diferença de longitude é a diferença de tempo para as passagens no meridiano, convertida em horas.\nFalta apenas calcular o tempo em Alexandria.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wuZR9Bt7vB"}],"key":"IGrP4zJmRe"}],"key":"VabZ0vvd7w"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# O sinal esta relacionado com a rotação da terra\ndelta_t = (noon_alexandria - noon_aswan).total_seconds()\n# Convertendo em graus\ndelta_lon = float(-delta_t * 360 / (24 * 3600))  # 24 hours in seconds\nconsole.print(f\"Delta longitude: {delta_lon:.2f}°\")","key":"b3zqCJgL5Q"},{"type":"output","id":"twR8SJv5lsym0N0ldPrcv","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">Delta longitude: <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">-3.00</span>°\n</pre>\n","content_type":"text/html"},"text/plain":{"content":"Delta longitude: \u001b[1;36m-3.00\u001b[0m°\n","content_type":"text/plain"}}}],"key":"WobYNK5mAh"}],"key":"arvovWDSYI"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Comparando com os dados geográficos temos:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PPrWFebm1p"}],"key":"J4LdhyFhWe"}],"key":"Scg9nHfa0P"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def format_list(lst):\n    return \", \".join(f\"{x:.2f}\" for x in lst)\n\ndelta_coords_astro = [delta_lat, delta_lon]\ndelta_coords_geo = [alexandria_coords[0] - aswan_coords[0], alexandria_coords[1] - aswan_coords[1]]\nconsole.print(f\"Delta coordenadas astronômicas: {format_list(delta_coords_astro)}\")\nconsole.print(f\"Delta coordenadas geográficas: {format_list(delta_coords_geo)}\")","key":"xlROLKLrgf"},{"type":"output","id":"4WQtHjaU39VvoArHdn2Zo","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">Delta coordenadas astronômicas: <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">7.09</span>, <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">-3.00</span>\n</pre>\n","content_type":"text/html"},"text/plain":{"content":"Delta coordenadas astronômicas: \u001b[1;36m7.09\u001b[0m, \u001b[1;36m-3.00\u001b[0m\n","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">Delta coordenadas geográficas: <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">7.11</span>, <span style=\"color: #008080; text-decoration-color: #008080; font-weight: bold\">-3.00</span>\n</pre>\n","content_type":"text/html"},"text/plain":{"content":"Delta coordenadas geográficas: \u001b[1;36m7.11\u001b[0m, \u001b[1;36m-3.00\u001b[0m\n","content_type":"text/plain"}}}],"key":"ACokFavati"}],"key":"cZGECxLS59"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Correções ao Experimento","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AKH2CTb77j"}],"identifier":"corre-es-ao-experimento","label":"Correções ao Experimento","html_id":"corre-es-ao-experimento","implicit":true,"key":"RX8BzqJhmT"}],"key":"NNpjwIcZ5J"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Precisamos considerar que:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xn5X6Nn4yU"}],"key":"pGBBHEJ068"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"‼️O tamanho da sombra em Aswan não é zero, sua latitude não é no trópico de câncer.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"MOTnJ6oFKx"}],"key":"D6uX0jaPUg"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"‼️A longitude das cidades não é a mesma.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"t1pYMjZ3O7"}],"key":"qJM7bpyquf"}],"key":"IVIFYdA1e3"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Para dois pontos na esfera, a distância entre eles é dada pela fórmula de Haversine","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"dPi0AzLJva"}],"key":"NPiw1lOc1M"},{"type":"math","value":"D(x, y) = 2 \\mathrm{arcsen}\\left[ \\sqrt{\\sin^2\\left(\\frac{x_{lat} - y_{lat}}{2}\\right) + \\cos(x_{lat})\\cos({y_{lat}}) \\sin^2\\left(\\frac{x_{lon} - y_{lon}}{2}\\right)} \\right]","position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>D</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mn>2</mn><mrow><mi mathvariant=\"normal\">a</mi><mi mathvariant=\"normal\">r</mi><mi mathvariant=\"normal\">c</mi><mi mathvariant=\"normal\">s</mi><mi mathvariant=\"normal\">e</mi><mi mathvariant=\"normal\">n</mi></mrow><mrow><mo fence=\"true\">[</mo><msqrt><mrow><msup><mrow><mi>sin</mi><mo>⁡</mo></mrow><mn>2</mn></msup><mrow><mo fence=\"true\">(</mo><mfrac><mrow><msub><mi>x</mi><mrow><mi>l</mi><mi>a</mi><mi>t</mi></mrow></msub><mo>−</mo><msub><mi>y</mi><mrow><mi>l</mi><mi>a</mi><mi>t</mi></mrow></msub></mrow><mn>2</mn></mfrac><mo fence=\"true\">)</mo></mrow><mo>+</mo><mi>cos</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mrow><mi>l</mi><mi>a</mi><mi>t</mi></mrow></msub><mo stretchy=\"false\">)</mo><mi>cos</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><msub><mi>y</mi><mrow><mi>l</mi><mi>a</mi><mi>t</mi></mrow></msub><mo stretchy=\"false\">)</mo><msup><mrow><mi>sin</mi><mo>⁡</mo></mrow><mn>2</mn></msup><mrow><mo fence=\"true\">(</mo><mfrac><mrow><msub><mi>x</mi><mrow><mi>l</mi><mi>o</mi><mi>n</mi></mrow></msub><mo>−</mo><msub><mi>y</mi><mrow><mi>l</mi><mi>o</mi><mi>n</mi></mrow></msub></mrow><mn>2</mn></mfrac><mo fence=\"true\">)</mo></mrow></mrow></msqrt><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">D(x, y) = 2 \\mathrm{arcsen}\\left[ \\sqrt{\\sin^2\\left(\\frac{x_{lat} - y_{lat}}{2}\\right) + \\cos(x_{lat})\\cos({y_{lat}}) \\sin^2\\left(\\frac{x_{lon} - y_{lon}}{2}\\right)} \\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.1339em;vertical-align:-1.25em;\"></span><span class=\"mord\">2</span><span class=\"mord\"><span class=\"mord mathrm\">arcsen</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">[</span></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.8839em;\"><span class=\"svg-align\" style=\"top:-5em;\"><span class=\"pstrut\" style=\"height:5em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mop\"><span class=\"mop\">sin</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8719em;\"><span style=\"top:-3.1208em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mop\">cos</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">cos</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">a</span><span class=\"mord mathnormal mtight\">t</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\"><span class=\"mop\">sin</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8719em;\"><span style=\"top:-3.1208em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">(</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.2603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">2</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">o</span><span class=\"mord mathnormal mtight\">n</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">)</span></span></span></span></span><span style=\"top:-3.8439em;\"><span class=\"pstrut\" style=\"height:5em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:3.08em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='3.08em' viewBox='0 0 400000 3240' preserveAspectRatio='xMinYMin slice'><path d='M473,2793\nc339.3,-1799.3,509.3,-2700,510,-2702 l0 -0\nc3.3,-7.3,9.3,-11,18,-11 H400000v40H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM1001 80h400000v40H1017.7z'/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1561em;\"><span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">]</span></span></span></span></span></span></span>","enumerator":"2","key":"peA437CN5K"}],"key":"X1PxUqr4Tf"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"A diferença de longitude é a diferença de tempo para as passagens no meridiano, convertida em horas.\nFalta apenas calcular o tempo em Alexandria.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r0ARyGPG1Y"}],"key":"fhtiTtJLmD"}],"key":"cSHV9Tudiw"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Não temos como saber as coordenadas exatas, vamos colocar a origem em Alexandra e determinar as coordenadas relativas de Aswan:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SsLnH1OliT"}],"key":"aVYbXMQfRN"}],"key":"sCS1Gm54ZQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"lat_alexandria, lon_alexandria = (0, 0)\nlat_aswan, lon_aswan = (delta_lat, delta_lon)","key":"wSt2b2VDvv"},{"type":"output","id":"zXaTGwsZwXVXlHhMn30UC","data":[],"key":"jQzpol8ToN"}],"key":"b01rsUzj7l"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"R_terra_corrected = great_circle_distance / (2 * np.arcsin( np.sqrt( np.sin(np.radians((lat_alexandria - lat_aswan) / 2))**2 + np.cos(np.radians(lat_alexandria)) * np.cos(np.radians(lat_aswan)) * np.sin(np.radians((lon_alexandria - lon_aswan) / 2))**2)))","key":"jSa4jgeLrA"},{"type":"output","id":"Mal5jk3Y8DbBeyqitCMbb","data":[],"key":"mmrGpGDMkP"}],"key":"RA3oenNXXM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import astropy.constants as const\nR_terra_earth = const.R_earth.value / 1000  # Convertendo para km\n\nresults = Table(title=\"Raio da Terra\")\n\nresults.add_column(\"Grandezas\", justify=\"right\", style=\"cyan\", no_wrap=True)\nresults.add_column(\"Valor\", justify=\"left\", style=\"yellow\", no_wrap=True)\n\nresults.add_row(\"Raio da Terra (Eratóstenes)\", f\"{R_terra:.2f} km\")\nresults.add_row(\"Correção de Lat/Lon\", f\"{R_terra_corrected:.2f} km\")\nresults.add_row(\"Valor WSG84\",  f\"{R_terra_earth:.2f} km\")\nresults.add_row(\"Diferença (Corrigido - Nominal)\", f\"{R_terra_corrected - R_terra_earth:.2f} km\")\nresults.add_row(\"Diferença (Eratostenes - Nominal)\", f\"{R_terra - R_terra_earth:.2f} km\")\nresults.add_row(\"Diferença porcentual (corrigido)\", f\"{((R_terra_corrected - R_terra_earth) / R_terra_earth) * 100:.2f}%\")\nresults.add_row(\"Diferença porcentual (Eratostenes)\", f\"{((R_terra - R_terra_earth) / R_terra_earth) * 100:.2f}%\")\n\nconsole.print(results)","key":"rRQiHo19id"},{"type":"output","id":"bsJl-LdxV0sQCOY3PoTRd","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"font-style: italic\">                   Raio da Terra                   </span>\n┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━┓\n┃<span style=\"font-weight: bold\">                          Grandezas </span>┃<span style=\"font-weight: bold\"> Valor      </span>┃\n┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━┩\n│<span style=\"color: #008080; text-decoration-color: #008080\">        Raio da Terra (Eratóstenes) </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> 6042.50 km </span>│\n│<span style=\"color: #008080; text-decoration-color: #008080\">                Correção de Lat/Lon </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> 6279.87 km </span>│\n│<span style=\"color: #008080; text-decoration-color: #008080\">                        Valor WSG84 </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> 6378.10 km </span>│\n│<span style=\"color: #008080; text-decoration-color: #008080\">    Diferença (Corrigido - Nominal) </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> -98.23 km  </span>│\n│<span style=\"color: #008080; text-decoration-color: #008080\">  Diferença (Eratostenes - Nominal) </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> -335.60 km </span>│\n│<span style=\"color: #008080; text-decoration-color: #008080\">   Diferença porcentual (corrigido) </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> -1.54%     </span>│\n│<span style=\"color: #008080; text-decoration-color: #008080\"> Diferença porcentual (Eratostenes) </span>│<span style=\"color: #808000; text-decoration-color: #808000\"> -5.26%     </span>│\n└────────────────────────────────────┴────────────┘\n</pre>\n","content_type":"text/html"},"text/plain":{"content":"\u001b[3m                   Raio da Terra                   \u001b[0m\n┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━┓\n┃\u001b[1m \u001b[0m\u001b[1m                         Grandezas\u001b[0m\u001b[1m \u001b[0m┃\u001b[1m \u001b[0m\u001b[1mValor     \u001b[0m\u001b[1m \u001b[0m┃\n┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━┩\n│\u001b[36m \u001b[0m\u001b[36m       Raio da Terra (Eratóstenes)\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33m6042.50 km\u001b[0m\u001b[33m \u001b[0m│\n│\u001b[36m \u001b[0m\u001b[36m               Correção de Lat/Lon\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33m6279.87 km\u001b[0m\u001b[33m \u001b[0m│\n│\u001b[36m \u001b[0m\u001b[36m                       Valor WSG84\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33m6378.10 km\u001b[0m\u001b[33m \u001b[0m│\n│\u001b[36m \u001b[0m\u001b[36m   Diferença (Corrigido - Nominal)\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33m-98.23 km \u001b[0m\u001b[33m \u001b[0m│\n│\u001b[36m \u001b[0m\u001b[36m Diferença (Eratostenes - Nominal)\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33m-335.60 km\u001b[0m\u001b[33m \u001b[0m│\n│\u001b[36m \u001b[0m\u001b[36m  Diferença porcentual (corrigido)\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33m-1.54%    \u001b[0m\u001b[33m \u001b[0m│\n│\u001b[36m \u001b[0m\u001b[36mDiferença porcentual (Eratostenes)\u001b[0m\u001b[36m \u001b[0m│\u001b[33m \u001b[0m\u001b[33m-5.26%    \u001b[0m\u001b[33m \u001b[0m│\n└────────────────────────────────────┴────────────┘\n","content_type":"text/plain"}}}],"key":"FNvuWHHVIW"}],"key":"avdnTi3pJf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"","key":"A1zGNtltgX"},{"type":"output","id":"E9J_cwfckutEXtZTsx22e","data":[],"key":"egGPeCxMhG"}],"key":"lepYrfi42s"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"","key":"HWwGMAw47u"},{"type":"output","id":"t4UY6NGumgTpIzOxWVT5d","data":[],"key":"V3C9jsJAIh"}],"key":"MA4f9eiJB0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"","key":"v119YECgRV"},{"type":"output","id":"NT2rYfFZ8CihCcNvMr_9v","data":[],"key":"ULJObCpbKs"}],"key":"KJxtj6ohxb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"","key":"IuGDtUD99P"},{"type":"output","id":"crjUhzHZVHEwNPzZWs0Ro","data":[],"key":"xXALgHkhGU"}],"key":"pGGcwG9d2b"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"","key":"RM7x6VqqlX"},{"type":"output","id":"ouTaQmspsfDYEjNd9h_8M","data":[],"key":"WSTs6M3fWZ"}],"key":"BmSyHqIoWL"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Medições das Distâncias da Lua e do Sol","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WABol55Eeb"}],"identifier":"medi-es-das-dist-ncias-da-lua-e-do-sol","label":"Medições das Distâncias da Lua e do Sol","html_id":"medi-es-das-dist-ncias-da-lua-e-do-sol","implicit":true,"key":"zLenQsr2wb"}],"key":"iAraGBbFqa"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Eratóstenes de Sirene","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cDbQNFiUVz"}],"key":"ISdkp5Q2DH"},{"type":"table","children":[{"type":"tableRow","children":[{"type":"tableCell","style":{"width":"160px"},"children":[{"type":"image","url":"/Aristarchus-51918d30b25578378e0c58e86dc5e38f.jpg","width":150,"key":"XVQJMweyHt","urlSource":"../images/people/Aristarchus.jpg","urlOptimized":"/Aristarchus-51918d30b25578378e0c58e86dc5e38f.webp"}],"key":"rShj3nEiKZ"},{"type":"tableCell","children":[{"type":"strong","children":[{"type":"text","value":"Aristarco de Samus ( 310 a.C. — 230 a.C.)","key":"xDqtzDVxcq"}],"key":"HbdAYOT5cI"},{"type":"break","key":"ybk1ETrD3I"},{"type":"text","value":" Aristarco foi um astrônomo e matemático grego que propôs, séculos antes de Copérnico, um modelo heliocêntrico do universo, com o Sol no centro e os planetas girando ao seu redor. Ele também tentou estimar o tamanho e a distância da Lua e do Sol em relação à Terra, usando métodos geométricos baseados em observações de eclipses e ângulos aparentes — sendo pioneiro em aplicar trigonometria à astronomia.","key":"nFLWMu0gK9"}],"key":"k3qcVeZ4Gp"}],"key":"dBKWRbhsMQ"}],"key":"CPiRpb0QDl"}],"class":"bio","key":"ktiSUtRIX2"}],"key":"tBdLpPrDOJ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Ainda antes de Eratóstenes, Aristarco criou um método trigonométrico para determinar as distâncias do Sol e da Lua, bem como seus Raios. São dois métodos utilizados.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UqsmmcLf06"}],"key":"ry5aM63OrK"}],"key":"ewfREeczgQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Observando a meia-lua","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pvgRKlfSbP"}],"identifier":"observando-a-meia-lua","label":"Observando a meia-lua","html_id":"observando-a-meia-lua","implicit":true,"key":"UKuwQWAcaO"}],"key":"wGi7hfyKOe"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from astroufcg.medidas_historicas.eratostenes import eph, ts, terra, sol, lua, make_observer\nfrom skyfield import almanac\nimport pandas as pd\nimport numpy as np\nimport osmnx as ox\nfrom skyfield.data import hipparcos\nfrom skyfield.api import load, Star\nfrom astropy.coordinates import SkyCoord, get_constellation, FK5\nfrom astropy import units as u\n\n\nstart = ts.ut1(-200, 1, 1)\nend = ts.ut1(-200, 12, 31)\nt, y = almanac.find_discrete(start, end, almanac.moon_phases(eph))\n","key":"y5pXVCPLGh"},{"type":"output","id":"zblTy-W3AsN0x09nXq4gh","data":[],"key":"Ifreih1vqk"}],"key":"vcae2VWQK5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"date = [ time for time, phase in zip(t, y) if phase == 1][0]\nsite_01 = \"Alexandria, Egypt\"\nlocation = pd.DataFrame([list(ox.geocode(site_01))], columns=[\"lat\", \"lon\"]).iloc[0]\nobserver = make_observer(location)","key":"pPuyWevgVO"},{"type":"output","id":"5Demqk0nOaJ0FKQZBjwZN","data":[],"key":"ZSfg5s2fv0"}],"key":"o8fTYgq25Z"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"date.utc_jpl()","key":"bOyRI48d1E"},{"type":"output","id":"facH4w3NMXcNV19qmr_hB","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"'B.C. 0201-Jan-19 22:47:58.9330 UTC'","content_type":"text/plain"}}}],"key":"xtlMuenld4"}],"key":"iJ4VqwEegO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"obs_lua = observer.at(date).observe(lua).apparent()\nlua_lat_ecliptic, lua_lon_ecliptic, _ = obs_lua.ecliptic_latlon()\nlua_alt, lua_az, _ = obs_lua.altaz()\nlua_ra, lua_dec, _ = obs_lua.radec()\nobs_sol = observer.at(date).observe(sol).apparent()\nsol_alt, sol_az, _ = obs_sol.altaz()\nsol_ra, sol_dec, _ = obs_sol.radec()\nsol_lat_ecliptic, sol_lon_ecliptic, _ = obs_sol.ecliptic_latlon()","key":"vuIVu1HMEL"},{"type":"output","id":"FYJyTaHetKCBYQRmAaBu8","data":[],"key":"XHYc3CwQcj"}],"key":"xwt1i2nrZi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"with load.open(hipparcos.URL) as f:\n    df = hipparcos.load_dataframe(f)","key":"XK6z9wG9GA"},{"type":"output","id":"IAEO0OHtkxJlEoleTIWEG","data":[],"key":"t2Ka90Rjnz"}],"key":"HxALb6t8J2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"width = 25\nmoon_box = df[df.magnitude <= 6][(df.ra_degrees >= lua_ra.degrees - width) & (df.ra_degrees <= lua_ra.degrees + width) &\n              (df.dec_degrees >= lua_dec.degrees - width) & (df.dec_degrees <= lua_dec.degrees + width)]    \nsol_box = df[df.magnitude <= 6][(df.ra_degrees >= sol_ra.degrees - width) & (df.ra_degrees <= sol_ra.degrees + width) &\n              (df.dec_degrees >= sol_dec.degrees - width) & (df.dec_degrees <= sol_dec.degrees + width)]","key":"V5krk9dzWh"},{"type":"output","id":"9qIebumINYTKk654C-Oau","data":[{"name":"stderr","output_type":"stream","text":"/tmp/ipykernel_55724/3897857241.py:2: UserWarning: Boolean Series key will be reindexed to match DataFrame index.\n  moon_box = df[df.magnitude <= 6][(df.ra_degrees >= lua_ra.degrees - width) & (df.ra_degrees <= lua_ra.degrees + width) &\n/tmp/ipykernel_55724/3897857241.py:4: UserWarning: Boolean Series key will be reindexed to match DataFrame index.\n  sol_box = df[df.magnitude <= 6][(df.ra_degrees >= sol_ra.degrees - width) & (df.ra_degrees <= sol_ra.degrees + width) &\n"}],"key":"Q6iCPs2zI4"}],"key":"t7pQWO6jhg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Precession function\ndef precess_to_epoch(ra, dec, epoch):\n    coords = SkyCoord(ra=ra*u.degree, dec=dec*u.degree, frame='fk5')\n    coords_precessed = coords.transform_to(FK5(equinox=epoch))\n    ra, dec = coords_precessed.ra.hour, coords_precessed.dec.degree\n    coords_precessed = pd.Series({'ra_hours': ra, 'dec_degrees': dec})\n    return coords_precessed","key":"YPCFiYXjnZ"},{"type":"output","id":"3i_ouZOG3IigTGa8en3Uc","data":[],"key":"HwiIDGbLIp"}],"key":"FAw2Mu4tRy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"moon_box = moon_box[['magnitude', 'ra_degrees', 'dec_degrees', \"epoch_year\"]]\nmoon_box.columns = ['magnitude', 'ra_degrees_hip', 'dec_degrees_hip', 'epoch_year']\nsol_box = sol_box[['magnitude', 'ra_degrees', 'dec_degrees', \"epoch_year\"]]\nsol_box.columns = ['magnitude', 'ra_degrees_hip', 'dec_degrees_hip', 'epoch_year']\nmoon_box[\"const\"] = moon_box.apply(lambda row: get_constellation(SkyCoord(ra=row.ra_degrees_hip*u.degree, dec=row.dec_degrees_hip*u.degree)), axis=1)\nmoon_box[[\"ra_hours\", \"dec_degrees\"]] = moon_box.apply(lambda row: precess_to_epoch(row.ra_degrees_hip, row.dec_degrees_hip, date.to_astropy()), axis=1)\nsol_box[\"const\"] = sol_box.apply(lambda row: get_constellation(SkyCoord(ra=row.ra_degrees_hip*u.degree, dec=row.dec_degrees_hip*u.degree)), axis=1)\nsol_box[[\"ra_hours\", \"dec_degrees\"]] = sol_box.apply(lambda row: precess_to_epoch(row.ra_degrees_hip, row.dec_degrees_hip, date.to_astropy()), axis=1)","key":"GcJFmrVlEo"},{"type":"output","id":"MRX6b8gcpGL4FDO0TOfWW","data":[],"key":"R3KZFksoW3"}],"key":"tBRRfa1EsL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"lua_stars = Star.from_dataframe(moon_box)\nlua_obs = observer.at(date).observe(lua_stars).apparent()\nlua_alt_stars, lua_az_stars, _ = lua_obs.altaz()\nmoon_box[\"alt\"] = lua_alt_stars.degrees\nmoon_box[\"az\"] = lua_az_stars.degrees\n\nsol_stars = Star.from_dataframe(sol_box)\nsol_obs = observer.at(date).observe(sol_stars).apparent()\nsol_alt_stars, sol_az_stars, _ = sol_obs.altaz()\nsol_box[\"alt\"] = sol_alt_stars.degrees\nsol_box[\"az\"] = sol_az_stars.degrees","key":"uaMcVX1Twr"},{"type":"output","id":"3oy8GXVr1VvtGEzF1kHc9","data":[],"key":"M5ACPV0ZmF"}],"key":"tMLEkU8HoT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\n\ndef get_size(magnitude):\n    \"\"\"Calculate the size of the star based on its magnitude.\"\"\"\n    return 100 * (6 - magnitude) / 6\n\ndef get_color(constellation):\n    \"\"\"Return a color based on the constellation.\"\"\"\n    zodiac_constellations = ['Ari', 'Tau', 'Gem', 'Cnc', 'Leo', 'Vir', \n                        'Lib', 'Sco', 'Sgr', 'Cap', 'Aqr', 'Psc']\n    colors = {\n        'Aries': 'blue',\n        'Taurus': 'orange',\n        'Gemini': 'red',\n        'Cancer': 'green',\n        'Leo': 'purple',\n        'Virgo': 'cyan',\n        'Libra': 'magenta',\n        'Scorpio': 'yellow',\n        'Sgr': 'brown',\n        'Capricornus': 'pink',\n        'Aquarius': 'gray',\n        'Psc': 'lightblue',\n    }\n    return colors.get(constellation, 'gray')\n\nfig, ax = plt.subplots(figsize=(16, 9), subplot_kw={'projection': 'mollweide'})\nax.scatter(np.radians(moon_box.alt), np.radians(moon_box.az), s=get_size(moon_box.magnitude.values), c=get_color(moon_box.const.values[0]), label='Lua', alpha=0.5)\nax.scatter(np.radians(sol_box.alt), np.radians(sol_box.az), s=get_size(sol_box.magnitude.values), c=get_color(sol_box.const.values[0]), label='Sol', alpha=0.5)\nax.set_xlabel('Altitude (radians)')\nax.set_ylabel('Azimute (degrees)')\nax.grid(True, linestyle='--', alpha=0.5)\nax.scatter(np.radians(lua_alt.degrees), np.radians(lua_az.degrees), s=200, c='midnightblue', marker='*', label='Lua')\nax.scatter(np.radians(sol_alt.degrees), np.radians(sol_az.degrees), s=200, c='gold', marker='*', label='Lua')\nax.legend()\nplt.show()","key":"BO41FmEUdB"},{"type":"output","id":"IAexFnws8t5LG2RaUk3VW","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"08f2227f2254c31fd68558a0df303c3f","path":"/08f2227f2254c31fd68558a0df303c3f.png"},"text/plain":{"content":"<Figure size 1600x900 with 1 Axes>","content_type":"text/plain"}}}],"key":"BDCOCGVGUy"}],"key":"Qt31alyC7h"}],"key":"UuGhxK5hxj"},"references":{"cite":{"order":[],"data":{}}}}